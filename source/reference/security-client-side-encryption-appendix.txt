========
Appendix
========

.. default-domain:: mongodb

.. include:: /includes/fact-client-side-field-level-encryption-beta.rst

.. _field-level-encryption-mongocryptd:
.. _mongocryptd:

``mongocryptd``
---------------

.. include:: /includes/extracts/csfle-enterprise-atlas-only.rst

``mongocryptd`` is required for :ref:`automatic field level encryption
<field-level-encryption-automatic>` and is included as a component in
the :doc:`MongoDB Enterprise Server
</administration/install-enterprise>` package. ``mongocryptd`` performs
the following:

- Parses the :ref:`automatic encryption rules
  <field-level-encryption-json-schema>` specified to the database
  connection. If the JSON schema contains invalid automatic encryption
  syntax *or* any :query:`document validation <$jsonSchema>`
  syntax, ``mongocryptd`` returns an error. 

- Uses the specified automatic encryption rules to mark fields in 
  read and write operations for encryption.

- Reject read/write operations that may return unexpected or incorrect 
  results when applied to an encrypted field. See 
  :doc:`/reference/security-client-side-query-aggregation-support` for 
  more information.

4.2 drivers automatically spawn the ``mongocryptd`` process if
available on the host system. Applications can control the spawning
behavior as part of the automatic encryption options. Defer to the
driver documentation for the specific options and syntax for
controlling ``mongocryptd`` spawning.

``mongocryptd`` is only responsible for supporting automatic 
client-side field level encryption and does *not* perform encryption 
or decryption. MongoDB 4.2-compatible drivers use the Apache-licensed
`libmongocrypt <https://github.com/mongodb/libmongocrypt>`__ 
library for performing client-side field level encryption and 
automatic decryption.

Installation
~~~~~~~~~~~~

For supported :doc:`Linux Operating Systems
</administration/install-enterprise-linux>`, follow the documented
installation instructions and install the ``mongodb-enterprise``
package. Alternatively, to install only the ``mongocryptd`` package
substitute ``mongodb-enterprise-cryptd`` in after configuring the
package manager repositories for access to the MongoDB repo.

For Windows, install the
:doc:`Server package </tutorial/install-mongodb-enterprise-on-windows>`.

For OSX, install the 
:doc:`Server package </tutorial/install-mongodb-enterprise-on-os-x>`.
