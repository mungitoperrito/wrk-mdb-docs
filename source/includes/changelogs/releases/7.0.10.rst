.. _7.0.10-changelog:

7.0.10 Changelog
----------------

Sharding
~~~~~~~~

:issue:`SERVER-89893` Change executor used by
_flushReshardingStateChange from arbitrary to fixed

Query
~~~~~

:issue:`SERVER-88949` Explain for classic multi planner displays
incorrect skip amount

Catalog
~~~~~~~

:issue:`SERVER-88746` [v7.0] Writes in transactions in replica sets may
not conflict with collection drop and rename, violating snapshot
isolation

Internals
~~~~~~~~~

- :issue:`SERVER-76214` Log WiredTigerStats in
  WiredTigerStatsTest::EmptySession
- :issue:`SERVER-78509` Add storage stats to replicated slow op log
  entries
- :issue:`SERVER-78903` Retry cluster auth count check
- :issue:`SERVER-82764` Make "planningTimeMicros" incorporate time from
  the multi-planner trial period
- :issue:`SERVER-83666` Improve clarity of number of CPUs metric
  reporting in FTDC
- :issue:`SERVER-83886` Increase log verbosity in
  WiredTigerStatsTest::EmptySession
- :issue:`SERVER-84761` MigrationSourceManager may fail to emit the
  migrateChunkToNewShard due to stale ChunkManager info
- :issue:`SERVER-85751` Remove $vectorSearch field validations
- :issue:`SERVER-86482` Hold authorization cache generation mutex for
  duration of invalidation
- :issue:`SERVER-86495` $vectorSearch should send non-altered/accepted
  match expressions to mongot in sharded environments
- :issue:`SERVER-86904` Conflict between initial sync setting the oldest
  timestamp and resharding pinning the oldest timestamp
- :issue:`SERVER-87563` Failure to parse oplog entries should be less
  disruptive
- :issue:`SERVER-87634` Add explain to agg key for query stats
- :issue:`SERVER-88318` Fail dbcheck if one batch failed waiting for
  write concern
- :issue:`SERVER-88350` test_packages should only install_compass on the
  support platforms
- :issue:`SERVER-88548` checkShardingIndex command must throw
  InvalidOptions when no suitable index is found
- :issue:`SERVER-88656` Make sharded time-series query kickback logs
  less scary
- :issue:`SERVER-88885` Add a way to stop applying a dbcheck batch on
  secondary
- :issue:`SERVER-89034` Always preserve 0-valued timestamps when
  migrating documents, add tests
- :issue:`SERVER-89036` BSONColumn validation should handle CodeWScope
- :issue:`SERVER-89078` Fix support for intermediate large documents
  during replanning
- :issue:`SERVER-89100` Renaming timeseries collection should be
  disallowed on sharded cluster
- :issue:`SERVER-89154` Data race on ReplicaSetMonitorManager::_stats
- :issue:`SERVER-89163` Chunk Migration Destination Should Wait for
  Majority Before Engaging Critical Section
- :issue:`SERVER-89181` [7.0] Fix server hang on creation of
  system.views
- :issue:`SERVER-89268` Missing 'let' variable incorrectly serialized as
  empty object
- :issue:`SERVER-89279` Handle EBUSY when opening the duplicate backup
  filename
- :issue:`SERVER-89299` $setWindowFields aggregate commands generate
  unstable hashes
- :issue:`SERVER-89443` Rewrite insert_with_data_size_aware_balancing.js
  as a ShardingTest-based test
- :issue:`SERVER-89454` Disable ocsp on Debian variants
- :issue:`SERVER-89467` ftdc_mirrored_reads.js should wait for metrics
  to converge before proceeding
- :issue:`SERVER-89474` Properly validate sortBy when parsing
  $setWindowFields
- :issue:`SERVER-89478` Use element_to_be_clickable instead of
  presence_of_element_located
- :issue:`SERVER-89486` [v7.0] Add requires_persistence tag to
  ignore_dbcheck_in_startup_recovery.js
- :issue:`SERVER-89539` Fix flakiness of
  WatchdogMonitorTest::SleepyHungCheck on windows
- :issue:`SERVER-89567` failed: test_packages on debian12
  [mongodb-mongo-v7.0 @ dfda1c8b] (debian12-org-7.0.4-23-gdfda1c8)
- :issue:`SERVER-89615` Increase the number of documents used in
  monotonicity_range_sharding_compound.js
- :issue:`SERVER-89618` Must disable validation when reconstructing
  prepared transactions
- :issue:`SERVER-89623` Clone Jepsen repo in 10gen/mongo using specific
  tags
- :issue:`SERVER-89641` Increase window for scoped_db_connection_test
- :issue:`SERVER-89646` Add all Network Error Code Strings to List of
  Strings isNetworkError() Looks For In Exception Message
- :issue:`SERVER-89652` [v7.0/v6.0] Move run-all-affected-jstests
  variant to nightly yaml
- :issue:`SERVER-89653` Install db-contrib-tool with --no-cache-dir
  argument
- :issue:`SERVER-89698` Exceptions thrown when performing transport
  session cleanup can cause mongos to terminate
- :issue:`SERVER-89717` Fix
  jstests/core/command_let_variables_expressions.js so it can run in
  multiversion tests prior to 7,3
- :issue:`SERVER-89752` Make logkeeper buildIDs stay unique when
  branching
- :issue:`SERVER-89767` Remove redundant and incorrect suite names from
  multiversion tasks
- :issue:`SERVER-89831` Add extra logging to
  PlanCacheBase::getNewEntryState
- :issue:`SERVER-89854` Do not require parameterization for regex
  expressions
- :issue:`SERVER-89869` [v7.0] Remove mqlrun tests
- :issue:`SERVER-89936` Exclude latch tests from running in trySbeEngine
  build variant
- :issue:`SERVER-89992` Allow renaming a bucket collection without
  timeseries options in local catalog
- :issue:`SERVER-90012` Fix
  dbcheck_skip_applying_batch_on_secondary_parameter for multiversion on
  backports
- :issue:`SERVER-90013` Avoid jsTestName in
  command_let_variables_expressions.js
- :issue:`SERVER-90055` Reverted Replace HistoricalIdentTracker with
  checkpoint cursors

