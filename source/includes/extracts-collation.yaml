ref: collation-versionadded
content: |
   .. versionadded:: 3.4

   Collation allows users to specify language-specific rules for string
   comparison, such as rules for lettercase and accent marks.
---
ref: collation-collection-level
content: |
   If you specify a collation at the collection level:

   - Indexes on that collection will be created with that collation unless
     the index creation operation explictly specify a different collation.

   - Operations on that collection use the collection's default
     collation unless they explictly specify a different collation.
---
ref: collation-unspecified
content: |
   If no collation is specified for the collection or for the
   operations, MongoDB uses the simple binary comparison used in prior
   versions for string comparisons.
---
ref: collation-option-specification
content: |

   The collation option has the following syntax:

   .. code-block:: javascript

      collation: {
         locale: <string>,
         caseLevel: <boolean>,
         caseFirst: <string>,
         strength: <int>,
         numericOrdering: <boolean>,
         alternate: <string>,
         maxVariable: <string>,
         backwards: <boolean>
      }
---
ref: collation-document
content: |
   .. code-block:: javascript

      {
         locale: <string>,
         caseLevel: <boolean>,
         caseFirst: <string>,
         strength: <int>,
         numericOrdering: <boolean>,
         alternate: <string>,
         maxVariable: <string>,
         backwards: <boolean>
      }
---
ref: collation-index-options
content: |
   Unlike other index options, you can create multiple indexes on the same
   key(s) with different collations. To create indexes with the same key
   pattern but different collations, you must supply unique index names.
---
ref: collation-index
content: |
   If you have specified a collation at the collection level, then:

   - If you do not specify a collation when creating the index, MongoDB
     creates the index with that collation.

   - If you do specify a collation when creating the index, MongoDB
     creates the index with the specified collation.

   The collation applies to the indexed keys whose values are string.

   .. tip::

      By specifying a collation ``strength`` of ``1`` or ``2``, you can
      create a case-insensitive index. Index with a collation ``strength``
      of ``1`` is both diacritic- and case-insensitive.

   .. include:: /includes/extracts/collation-index-options.rst

---
ref: collation-option
content: |
   Specifies the collation to use for the {{operation}}.

   If the collation is unspecified but the collection has a
   :ref:`default collation <createCollection-collation>`, the
   {{operation}} uses the collation specified for the collection.

   .. versionadded:: 3.4
replacement:
   operation: operation
...
